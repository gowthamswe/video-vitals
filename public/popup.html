<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>VideoVitals</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { width: 320px; min-height: 200px; }
    body { font-family: Arial, sans-serif; background: #1a1a1a; color: #e0e0e0; }
    .header { padding: 16px; background: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%); border-bottom: 1px solid #333; }
    .logo { font-size: 18px; font-weight: bold; color: #ff8c5a; }
    .content { padding: 20px; display: flex; flex-direction: column; gap: 16px; }
    .text { font-size: 14px; color: #999; line-height: 1.5; }
    .user-box { display: flex; align-items: center; gap: 12px; padding: 12px; background: #2d2d2d; border-radius: 8px; border: 1px solid #3d3d3d; }
    .avatar { width: 40px; height: 40px; border-radius: 50%; }
    .user-info { display: flex; flex-direction: column; gap: 2px; }
    .user-name { font-size: 14px; font-weight: 600; color: #e0e0e0; }
    .user-email { font-size: 12px; color: #888; }
    .sign-in-btn { display: flex; align-items: center; justify-content: center; gap: 10px; padding: 12px 20px; background: #2d2d2d; color: #e0e0e0; border: 1px solid #3d3d3d; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s; }
    .sign-in-btn:hover { background: #3d3d3d; border-color: #ff8c5a; }
    .sign-out-btn { padding: 10px 16px; background: #2d2d2d; color: #999; border: 1px solid #3d3d3d; border-radius: 8px; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s; }
    .sign-out-btn:hover { background: #3d3d3d; color: #e0e0e0; }
    .google-icon { width: 18px; height: 18px; }
    .footer { padding: 12px 16px; border-top: 1px solid #333; text-align: center; }
    .footer-text { font-size: 11px; color: #666; }
    .error-text { font-size: 12px; color: #ff6b6b; }
    .debug-text { font-size: 10px; color: #666; word-break: break-all; padding: 8px; background: #2d2d2d; border-radius: 4px; border: 1px solid #3d3d3d; }
    .hidden { display: none !important; }
  </style>
</head>
<body>
  <div class="header"><span class="logo">ðŸŽ¬ VideoVitals</span></div>
  <div class="content">
    <div id="loading-state"><p class="text">Loading...</p></div>
    <div id="signed-out-state" class="hidden">
      <p class="text">Sign in to rate YouTube videos and help identify clickbait.</p>
      <p id="error-message" class="error-text hidden"></p>
      <button class="sign-in-btn" id="sign-in-btn">
        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="" class="google-icon"/>
        Sign in with Google
      </button>
      <p id="redirect-url" class="debug-text"></p>
    </div>
    <div id="signed-in-state" class="hidden">
      <div class="user-box">
        <img id="user-avatar" src="" alt="" class="avatar hidden"/>
        <div class="user-info">
          <span id="user-name" class="user-name"></span>
          <span id="user-email" class="user-email"></span>
        </div>
      </div>
      <p class="text">Go to a YouTube video to rate it for clickbait and information density.</p>
      <button class="sign-out-btn" id="sign-out-btn">Sign Out</button>
    </div>
  </div>
  <div class="footer"><p class="footer-text">Rate videos. Help everyone.</p></div>
  <script src="popup.js"></script>
</body>
</html>
